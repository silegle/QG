## 简答题

1.复合矩阵的旋转、平移、缩放如何有顺序进行，为什么

顺序是先缩放、后旋转再平移

因为如果是先旋转后缩放，受缩放的影响，第一步旋转的旋转角度会发生改变。而经过了坐标变换之后：
缩放变换不改变坐标轴的走向，也不改变原点的位置，所以两个坐标系仍然重合。
旋转变换改变坐标轴的走向，但不改变原点的位置，所以两个坐标系坐标轴不再处于相同走向。
平移变换不改变坐标轴走向，但改变原点位置，两个坐标系原点不再重合。

2.正交投影和透视投影的区别

正交投影就是摄像机在原点，看向-z方向，顶部在y方向，在看向物体时将所有物体的z值归0，然后将物体平移并缩放到[-1,1]^2之间。透视投影就是近大远小，平行线也会变得不平行，人们眼睛所看到的就是透视投影的结果。。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200517225522434.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzMTQ5MDUx,size_16,color_FFFFFF,t_70)

3.绘制透明物体时为什么要关闭深度写入？为什么从后往前渲染

考虑不关闭深度写入的情况：如果在透明物体后边有不透明物体，如果开启深度写入的话，因为后边的不透明物体离摄像机更远，因为深度缓冲的原因，在透明物体后边的不透明物体将不会被渲染。

比如场景中有两物体，离摄像机更近的半透明物体A和离摄像机更远的不透明物体B

- **情况一：先渲染B再渲染A**
  - 渲染B时
    - 深度测试和写入都开启 ，所以B的数据会写入颜色缓冲区和深度缓冲区
  - 渲染A时
    - 关闭深度写入，进行深度测试
    - 深度测试的结果是A离相机的具体比B更近，所以我们会将A的透明度和颜色缓冲区中B的颜色值进行混合
    - 得到的结果正确
- **情况二：先渲染A再渲染B**
  - 渲染A时
    - 因为深度写入关闭，此时只将A写入了颜色缓冲区
  - 渲染B时
    - 因为深度缓冲区并没有数据，所以B就会直接覆盖颜色缓冲区中的A的颜色
    - 很显然这个结果是错误的（结果的视觉上，B在A前边）
- **结论：**
  - 应该先渲染不透明物体再渲染半透明物体，即从后往前渲染

4.同时存在透明和非透明物体一般的渲染顺序是怎样的

**在Unity中，整体上来说物体的渲染要按照如下顺序：**

1. 先渲染不透明物体：对于不透明物，渲染顺序并不影响其渲染结果，因此谁先谁后无所谓。当然为了优化效率，unity的不透明物里是按照**从近往远绘制。**
2. 再渲染全透明物体：对于全透明物，unity使用透明度测试（AlphaTest)进行优化，当片元的透明度小于设置的阈值时，就当作全透明处理，否则就当作不透明处理
3. 最后渲染半透明物体：由远及近严格顺序绘制。



## 实践题

采用正交投影和透视投影观察区别

1.设置坐标![屏幕截图 2024-03-26 171146](C:\Users\dmxxxx\Pictures\Screenshots\屏幕截图 2024-03-26 171146.png)

2.正交投影![屏幕截图 2024-03-26 171212](C:\Users\dmxxxx\Pictures\Screenshots\屏幕截图 2024-03-26 171212.png)

![屏幕截图 2024-03-26 171112](C:\Users\dmxxxx\Pictures\Screenshots\屏幕截图 2024-03-26 171112.png)

3.透视投影

![image-20240326171446676](C:\Users\dmxxxx\AppData\Roaming\Typora\typora-user-images\image-20240326171446676.png)

![屏幕截图 2024-03-26 171333](C:\Users\dmxxxx\Pictures\Screenshots\屏幕截图 2024-03-26 171333.png)